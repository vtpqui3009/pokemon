<div class="container mx-auto px-4 py-8 space-y-6">
  <div>
    <h1 class="text-3xl font-bold mb-2">Pokémon Database</h1>
    <p class="text-muted-foreground">
      Explore and discover your favorite Pokémon from all generations
    </p>
  </div>

  <app-pokemon-filters
    [filters]="filters()"
    (filtersChange)="handleFilter($event)"
    (importFile)="handleImportClick($event)"
  ></app-pokemon-filters>

  <div
    class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-5 gap-4 mt-4"
  >
    @for (poke of pokemonList(); track poke.id) {
    <app-pokemon-card
      [pokemon]="poke"
      [isFavorite]="favorites().has(poke.id)"
      (toggleFavorite)="toggleFavorite($event)"
      (click)="handlePokemonClick(poke)"
    ></app-pokemon-card>
    }
  </div>

  @if(totalItems() === 0){
  <div class="text-center py-12">
    <p class="text-muted-foreground">
      No Pokémon found matching your criteria.
    </p>
  </div>
  }

  <app-pokemon-pagination
    [totalResults]="totalItems()"
    (paginationChange)="handlePaginate($event)"
  ></app-pokemon-pagination>

  <app-pokemon-detail-modal
    [pokemon]="selectedPokemon()"
    [isOpen]="isModalOpen()"
    (close)="isModalOpen.set(false)"
    [isFavorite]="
      selectedPokemon() ? favorites().has(selectedPokemon()!.id) : false
    "
    (toggleFavorite)="toggleFavorite($event)"
  ></app-pokemon-detail-modal>
</div>
